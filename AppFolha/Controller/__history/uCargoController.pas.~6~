unit uCargoController;

interface

uses System.Generics.Collections, System.SysUtils,
     FireDAC.Comp.Client,
     uCargo, uCargoDAO;

type
  TCargoController = class
  private
    FCargoDAO: TCargoDAO;
  public
    constructor Create;
    destructor Destroy; override;

    function Buscar(codCargo: Integer): String;
    function ListarTodos: TObjectList<TCargo>;
    function ListarTodosQry: TFDQuery;
  end;

implementation

{ TCargoController }

constructor TCargoController.Create;
begin
  FCargoDAO := TCargoDAO.Create;
end;

destructor TCargoController.Destroy;
begin
  inherited;
end;

function TCargoController.Buscar(codCargo: Integer): String;
begin
  if codCargo > 0 then
    Result := FCargoDAO.Buscar(codCargo)
  else
    raise Exception.Create('Código informado inválido!');
end;

function TCargoController.ListarTodos: TObjectList<TCargo>;
begin
  Result := FCargoDAO.ListarTodos;
end;

function TCargoController.ListarTodosQry: TFDQuery;
begin
  Result := FCargoDAO.ListarTodosQry;
end;

end.
